<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
var arr = [];
	var comments = [];
	var count = 1;
function getJSON(url){
		$.get(url, function(data, status){
			var keys = $('#url').val();
			/*if(count==1){
				if(data[keys]&&data[keys].comments){
					arr.push(data[keys].comments.data);
				}
				//console.log(data[keys].comments.paging.next);
				//document.write(JSON.stringify(arr));
				if(data[keys]&&data[keys].comments.paging){
					getJSON(data[keys].comments.paging.next);
				}
				count++;
			}else{*/
				if(data.data!=null){
					for(var i=0;i<data.data.length;i++){
						arr.push(data.data[i]);
					}
				}
				if(data.paging&&data.paging.next!=''){
					getJSON(data.paging.next);
				}else{
					/*for(var i=0;i<arr.length;i++){
						for(var j=0; j<arr[i].length; j++){
							comments.push(arr[i][j]);
						}
					}*/
					
					document.write(JSON.stringify(arr));
				}
			//}
			
			//console.log("Data: " + data.comments.data + "\nStatus: " + status);
		});
	}
	function clickTO(){
		var token = $('#token').val();
		var url = encodeURIComponent($('#url').val());
		var getObjUrl = "https://graph.facebook.com/v2.7/?id="+url+"&access_token="+token
		$.get(getObjUrl, function(data){
			getJSON("https://graph.facebook.com/v2.7/"+data.og_object.id+"/comments?access_token="+token);
		});
	}
</script>
</head>
<body>
	到 <a href="https://developers.facebook.com/tools/explorer/">https://developers.facebook.com/tools/explorer/</a> 複製 access token <br />
	url<input type="text" id="url" /><br />
	token<input type="text" id="token"/>
	<button onclick="clickTO();">Submit</button>
</body>
</html>
